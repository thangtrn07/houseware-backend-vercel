{"version":3,"sources":["../../src/repositories/image.repository.ts"],"sourcesContent":["import Image from '~/models/image.model';\r\nimport { CloudImage } from '~/types/image';\r\n\r\nclass ImageRepository {\r\n   async createImage(data: CloudImage) {\r\n      if (!data) {\r\n         return null;\r\n      }\r\n      const image = await Image.create({ imageUrl: data.path, publicId: data.fieldname });\r\n      return image;\r\n   }\r\n\r\n   async createMultipleImage(data: CloudImage[]) {\r\n      if (!data || data.length <= 0) {\r\n         return null;\r\n      }\r\n\r\n      const images = data.map((item) => ({ imageUrl: item.path, publicId: item.fieldname }));\r\n      const result = await Image.insertMany(images);\r\n      return result;\r\n   }\r\n}\r\n\r\nexport default ImageRepository;\r\n"],"names":["ImageRepository","createImage","data","image","Image","create","imageUrl","path","publicId","fieldname","createMultipleImage","length","images","map","item","result","insertMany"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuBA;;;eAAA;;;qDAvBkB;;;;;;AAGlB,IAAA,AAAMA,kBAAN,MAAMA;IACH,MAAMC,YAAYC,IAAgB,EAAE;QACjC,IAAI,CAACA,MAAM;YACR,OAAO;QACV;QACA,MAAMC,QAAQ,MAAMC,mBAAK,CAACC,MAAM,CAAC;YAAEC,UAAUJ,KAAKK,IAAI;YAAEC,UAAUN,KAAKO,SAAS;QAAC;QACjF,OAAON;IACV;IAEA,MAAMO,oBAAoBR,IAAkB,EAAE;QAC3C,IAAI,CAACA,QAAQA,KAAKS,MAAM,IAAI,GAAG;YAC5B,OAAO;QACV;QAEA,MAAMC,SAASV,KAAKW,GAAG,CAAC,CAACC,OAAU,CAAA;gBAAER,UAAUQ,KAAKP,IAAI;gBAAEC,UAAUM,KAAKL,SAAS;YAAC,CAAA;QACnF,MAAMM,SAAS,MAAMX,mBAAK,CAACY,UAAU,CAACJ;QACtC,OAAOG;IACV;AACH;MAEA,WAAef"}