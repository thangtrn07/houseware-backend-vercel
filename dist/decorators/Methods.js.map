{"version":3,"sources":["../../src/decorators/Methods.ts"],"sourcesContent":["import MetadataKeys from '~/utils/metadata.key';\r\n\r\nconst enum Methods {\r\n   GET = 'get',\r\n   POST = 'post',\r\n   PUT = 'put',\r\n   DELETE = 'delete'\r\n}\r\n\r\nexport interface IRouter {\r\n   method: Methods;\r\n   middlewares: any[];\r\n   handlerPath: string;\r\n   handlerName: string | symbol;\r\n}\r\n\r\nfunction decoratorFactory(method: Methods) {\r\n   return function (path: string = '', ...middlewares: any): MethodDecorator {\r\n      return function (target, propertyKey) {\r\n         const controllerClass = target.constructor;\r\n         const routers: IRouter[] = Reflect.hasMetadata(MetadataKeys.ROUTER, controllerClass)\r\n            ? Reflect.getMetadata(MetadataKeys.ROUTER, controllerClass)\r\n            : [];\r\n\r\n         routers.push({\r\n            method,\r\n            middlewares,\r\n            handlerName: propertyKey,\r\n            handlerPath: path\r\n         });\r\n         Reflect.defineMetadata(MetadataKeys.ROUTER, routers, controllerClass);\r\n      };\r\n   };\r\n}\r\n\r\nexport const Get = decoratorFactory(Methods.GET);\r\nexport const Put = decoratorFactory(Methods.PUT);\r\nexport const Post = decoratorFactory(Methods.POST);\r\nexport const Delete = decoratorFactory(Methods.DELETE);\r\n"],"names":["Delete","Get","Post","Put","decoratorFactory","method","path","middlewares","target","propertyKey","controllerClass","constructor","routers","Reflect","hasMetadata","MetadataKeys","ROUTER","getMetadata","push","handlerName","handlerPath","defineMetadata"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAsCaA,MAAM;eAANA;;IAHAC,GAAG;eAAHA;;IAEAC,IAAI;eAAJA;;IADAC,GAAG;eAAHA;;;sDApCY;;;;;;;AAgBzB,SAASC,iBAAiBC,MAAe;IACtC,OAAO,SAAUC,OAAe,EAAE,EAAE,GAAGC,WAAgB;QACpD,OAAO,SAAUC,MAAM,EAAEC,WAAW;YACjC,MAAMC,kBAAkBF,OAAOG,WAAW;YAC1C,MAAMC,UAAqBC,QAAQC,WAAW,CAACC,oBAAY,CAACC,MAAM,EAAEN,mBAC/DG,QAAQI,WAAW,CAACF,oBAAY,CAACC,MAAM,EAAEN,mBACzC,EAAE;YAEPE,QAAQM,IAAI,CAAC;gBACVb;gBACAE;gBACAY,aAAaV;gBACbW,aAAad;YAChB;YACAO,QAAQQ,cAAc,CAACN,oBAAY,CAACC,MAAM,EAAEJ,SAASF;QACxD;IACH;AACH;AAEO,MAAMT,MAAMG;AACZ,MAAMD,MAAMC;AACZ,MAAMF,OAAOE;AACb,MAAMJ,SAASI"}